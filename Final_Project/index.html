<!DOCTYPE html>
<!-- Template by Quackit.com -->
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <!-- The above 3 meta tags *must* come first in the head; any other head content must come *after* these tags -->

    <title>Max's Physics S-12</title>

    <!-- Bootstrap Core CSS -->
    <link href="../css/bootstrap.min.css" rel="stylesheet">

    <!-- Custom CSS: You can use this stylesheet to override any Bootstrap styles and/or apply your own styles -->
    <link href="../css/custom.css" rel="stylesheet">

    <!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!--[if lt IE 9]>
        <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
        <script src="https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
    <![endif]-->

</head>

<body>

    <!-- Navigation -->
    <nav class="navbar navbar-inverse navbar-fixed-top" role="navigation">
        <div class="container">
            <!-- Logo and responsive toggle -->
            <div class="navbar-header">
                <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#navbar">
                    <span class="sr-only">Toggle navigation</span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                </button>
                <a class="navbar-brand" href="../index.html">
                    <span class="glyphicon glyphicon-screenshot"></span> 
                    Maxtopher
                </a>
            </div>
            <!-- Navbar links -->
            <div class="collapse navbar-collapse" id="navbar">
                <ul class="nav navbar-nav">
                    <li>
                        <a href="../index.html">Home</a>
                    </li>
                    <li>
                        <a href="../About_Me/index.html">About Me</a>
                    </li>
                    <li class="active">
                        <a href="index.html">Final Project</a>
                    </li>
                    <li class="dropdown">
                        <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="false">Weekly Assignments <span class="caret"></span></a>
                        <ul class="dropdown-menu" aria-labelledby="about-us">
                            <li><a href="../01_Intro/index.html">Assignment 1: Introduction & Documentation</a></li>
                            <li><a href="../02_2D_Design/index.html">Assignment 2: 2D Design & Cutting</a></li>
                            <li><a href="../03_Tools/index.html">Assignment 3: Electronics & Tools</a></li>
                            <li><a href="../04_Prototyping/index.html">Assignment 4: Rapid Prototyping</a></li>
                            <li><a href="../05_Programmable_Electronics/index.html">Assignment 5: Programmable Electronics</a></li>
                            <li><a href="../06_3D_Design/index.html">Assignment 6: 3D Design & Printing</a></li>
                            <li><a href="../07_Electronic_Input/index.html">Assignment 7: Electronic Input Devices</a></li>
                            <li><a href="../08_Electronic_Output/index.html">Assignment 8: Electronic Output Devices</a></li>
                            <li><a href="../09_Networking/index.html">Assignment 9: Networking / IoT</a></li>
                            <li><a href="../10_Machine/index.html">Assignment 10: Machine Building</a></li>
                            <li><a href="../11_Computer/index.html">Assignment 11: Computer Programming</a></li>
                            <li><a href="../12_Wildcard/index.html">Assignment 12: Wildcard / Project Prep</a></li>
                        </ul>
                    </li>
                </ul>
            </div>
            <!-- /.navbar-collapse -->
        </div>
        <!-- /.container -->
    </nav>

    <div class="jumbotron feature">
        <div class="container">
            <h1><span class="glyphicon glyphicon-equalizer"></span>Final Project: The Digital Telescope</h1>
            <p>This page contains an overview of my final project, The Digital Telescope, and a detailed documentation of the steps to get there.</p>
        </div>
    </div>

    <!-- Content -->
    <div class="container">

        <!-- Heading: Weekly Work (-->
        <div class="row">
            <div class="col-lg-12">
                <h1 class="page-header">The Digital Telescope:</h1>
            </div>
        </div>
        <!-- /.row -->

        <!-- Heading: Telescope Video (-->
        <div class="row">

            <div class="col-lg-12 text-center">
                <iframe width="560" height="315" src="https://www.youtube.com/embed/xMM7daKmcI8" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>
            </div>

        </div>
        <!-- /.row -->

        <!-- Heading: Weekly Work (-->
        <div class="row">
            <div class="col-lg-12">
                <h3>Project Summary</h3>
            </div>
        </div>
        <!-- /.row -->

        <!-- Heading: Final Project Summary -->
        <div class="row">
            <div class="col-sm-6">
                <p>As a physics concentrator beginning a new hobby of looking into the night sky, I thought a telescope would be the perfect canvas to create my final project in this class. For this project, I transformed a telescope into a computer controlled device. Over wifi connection, you can see the image as seen through the telescope viewfinder and focus the image in real time. This uses a stepper motor with a gear reduction to adjust the focusing knob and an ESP32-CAM to capture a livestream of the telescope's viewfinder image. To achieve this product, I first designed 3D printable pieces including a clamp that attaches to the telescope and holds the stepper motor, battery pack and other circuitry, gears for the stepper motor and the focusing knob, and an adapter that connects the ESP32-CAM to the telescope lens. Detailed documentation can be found below for the creation of these pieces and the wiring of the stepper motor and ESP32-CAM. These were then attached to the telescope and I uploaded the basic example code for livestream video to the ESP32-CAM. (Instructions for this are <a href="https://randomnerdtutorials.com/esp32-cam-video-streaming-face-recognition-arduino-ide/">here</a>). Finally, Arduino IoT was used to control the focsuing knobs. This code can be found under the heading, "Stepper Motor Control (August 1st, 2021): Arduino IoT Control".</p>

                <p>Unfortunatley, once my project was completely ready for testing, I had only cloudy and rainy nights for testing my digital telescope. The video above features a branch on a tree in my yard. It is certainly not as exciting as the moon, but it works well for the demo. Hopefully, there will be some clear nights soon and I can upload some photos from the completed digital telescope then. (The moon pictured here was taken with an iPhone, not the ESP32-CAM).</p>
            </div>
            <div class="col-sm-6">
                <img class="img-responsive img-rounded" src="Summary/Moon22.jpg" alt="the moon">
            </div>
        </div>
        <!-- /.row -->

                <!-- Heading: Weekly Work (-->
        <div class="row">
            <div class="col-lg-12">
                <h3>Using the Digital Telescope</h3>
            </div>
        </div>
        <!-- /.row -->

        <!-- Heading: Final Project Summary -->
        <div class="row">
            <div class="col-sm-3">
                <img class="img-responsive img-rounded" src="Summary/default_buttons.jpg" alt="buttons for esp32">
            </div>
            <div class="col-sm-4">
                <p>The video interface includes a few useful buttons for optimal control of the telescope. The basic quality, brightness, contrast and saturation sliders are helpful for adjustments on the telescope image, and most other setting can just remain in their default positions. However, H-Mirror and V-Flip are extremely helpful for this project. For those who have used telescopes before, it can often be confusing when trying to track something across the sky. The optics behind the telescope lenses inverts the image that we recieve in the viewfinder, so when moving the telescope right, the image appears to move left. The same inversion occurs when moving vertically. These two image inversions on the livestream correct this optical trick and eliminate all confusion.</p> 
                <p>Controlling the telescope focusing with Arduino IoT is extremely simple. This telescope only has one focusing knob, but with the precision of the stepper motor, we can turn this into both a fine and coarse focusing knob. In fact, using the slider to adjust focusing depth, the fine focus can be made extremely accurate. While the coarse focus has a fixed focusing depth, small values on the slider will produce very fine focusing while larger numbers will produce coarser focusing.</p>
            </div>
            <div class="col-sm-5">
                <img class="img-responsive img-rounded" src="Summary/Buttons.jpg" alt="buttons for esp32">
            </div>
        </div>

        <div class="row">
            <div class="col-lg-12">
                <h3>Project Success</h3>
            </div>
        </div>
        <!-- /.row -->

        <!-- Heading: Final Project Summary -->
        <div class="row">
            
            <div class="col-sm-12">
                <p>Ultimately, my project was fairly successful. I had hoped to include both the controls and video display on one host website, but I wasn't able to do so in time for the end of the class. This is the first correction I would make for my next go at the project. ANother improvement for next time would be to make it controllable for anywhere, not just over local wifi. A little more ambitious with this large a telescope, but perhaps with another model I could even wire remote control of the telescopes position in the sky as well. If possible, these would be my next steps with this project.</p>
                <p>Otherwise, my project worked as designed. The video displays real time images from the telescope viewfinder and it can be focused remotely with the press of a button.</p>
            </div>

        <!-- /.row -->

        <!-- Heading: Weekly Work (-->
        <div class="row">
            <div class="col-lg-12">
                <h1 class="page-header">See Below for Detailed Documentation on Creating My Final Project:</h1>
            </div>
        </div>
        <!-- /.row -->

        <!-- Heading: Final Project Proposal (-->
        <div class="row">
            <div class="col-lg-12">
                <h1 class="page-header">Final Project Proposal (June 24<sup>th</sup>, 2021):</h1>
            </div>
        </div>
        <!-- /.row -->

        <!-- Heading: Project Proposal -->
        <div class="row">
            <div class="col-sm-4">
                <h3>The Telescope:</h3>
                <img class="img-responsive img-rounded" src="Proposal/Full_Telescope.jpg" alt="The Telescope">
            </div>
            <div class="col-sm-4">
                <h3>The Wirelessly Controlled Telescope Proposal:</h3>
                <p>I am still fairly uncertain about what I eventually want to do as my final project. However, my inital idea has to do with a telescope that I recently recieved. The telescope I have is already motorized and is remotely controlled by a wired attachment. Therefore, using the control panel, you can change where the telescope is pointed, adjusting both vertically and horizontally.</p> 
                <p>My project will hopefully solve a few problems. It will ideally allow for wireless control of the telescope's position, along with wireless focusing. I hope to also be able to render the viewfinder image on a device like a computer or phone. Additionally, becasue of the optics of the telescope, the image seen in the viewfinder is actually flipped from reality, so within this interface, I hope to convert the image to its true form.</p>
                <p>My idea is to add a removable camera to the end of the eyepiece (so it can be set up and used with a variety of different sized eyepieces). With this camera, I hope to be able to wirelessly attach it to my phone or computer so I can see the image on my device without having to look through the eyepiece. I think it would also be beneficial to motorize the focusing knobs to be wirelessly controlled from the same device interface. Hopefully, the positioning motors could also be controlled from here.</p>
                <p>Ultimately, the perfect viersion of my project would be an app on my phone that could be used to see through the telescope, control its position, and focus it to find and track things in the night sky. This could also be used to take high quality photos of the night sky. Maybe, someone else with the same app could even see through the telescope in real time, just without direct control of it.</p>
            </div>
            <div class="col-sm-4">
                <h3>Telescope Viewfinder:</h3>
                <img class="img-responsive img-rounded" src="Proposal/Telescope_Viewfinder.jpg" alt="Telescope Viewfinder">
                <h3>Telescope Control Panel:</h3>
                <img class="img-responsive img-rounded" src="Proposal/Telescope_Controller.jpg" alt="Telescope Control Panel">
            </div>
        </div>
        <!-- /.row -->

        <!-- Heading: Concept-->
        <div class="row">
            <div class="col-lg-12">
                <h1 class="page-header">Drafting a Basic Design Concept (July 8<sup>th</sup>, 2021):</h1>
            </div>
        </div>
        <!-- /.row -->

        <!-- Heading: Concept -->
        <div class="row">
            <div class="col-md-12">
                <p>The basic, updated concept for my telescope design will be a wirelessly controlled focusing device for the telescope that allows you to actively see through the telescope lens as it is focused. To achieve this final product, I will need a stationary mount that attaches directly to the telescope. This will hold the necessary circuitry components and supply the support for the motors required to turn the focusing knobs. To actually attach the motors to the focusing knobs, I will likely have to 3D print a clamp-like, or tight fitting piece. Becasue there are knobs on each side of the lens, an extra motor could also be wired and attached to provide additional power and torque.</p>
                <p>Additionally, I will mount a detachable camera to the viewfinder at the end of the lens. The ESP32-CAM should work well for this function, and can be accessed over wifi. This would not only allow for complete remote control of the focusing mechanism, but it would also achieve my goal of allowing multiple people at different locations to be able to see exactly what I am through the telescope in real time.</p>
            </div>
        </div>
        <!-- /.row -->
        <!-- Heading: Concept -->
        <div class="row">
            <div class="col-sm-6">
                <img class="img-responsive img-rounded" src="Concept/Design_Concept.jpg" alt="###">
            </div>
            <div class="col-sm-6">
                <img class="img-responsive img-rounded center" src="Concept/Scematic.jpg" alt="###">
            </div>
        </div>
        <!-- /.row -->

        <!-- Heading: Design -->
        <div class="row">
            <div class="col-lg-12">
                <h1 class="page-header">Designing the Device (July 13<sup>th</sup>, 2021):</h1>
            </div>
        </div>
        <!-- /.row -->

        <!-- Heading: Design -->
        <div class="row">
            <div class="col-sm-12">
                <h3>Motor Control</h3>
                <p>For optimal control of the motor's rotation, the stepper motor will be used to turn the focusing knob. However, the motor didn't appear to have the necessary torque to actually turn the knobs. If affixed on the same axis as the focusing knob, the motor could just barely turn the knob, and only very inefficiently. To overcome this problem, I experimented with a few different concepts. Becasue the focusing knob is grooved, it is almost like a gear. Therefore, using a small grooved lego piece, I was able to make a gear ratio that was able to easily turn the focusing knob (although extremely slowly). For the true design, I can create ideally linking gears, designing one to fit perfectly aound the focusing knob and the other to slot onto the stepper motor.</p>
            </div>
        </div>
        <!-- /.row -->

        <!-- Heading: Design -->
        <div class="row">
            <div class="col-sm-4">
                <img class="img-responsive img-rounded" src="Design/Stepper_Motor.jpg" alt="###">
            </div>
            <div class="col-sm-4">
                <img class="img-responsive img-rounded" src="Design/No_Torque.gif" alt="###">
            </div>
            <div class="col-sm-4">
                <img class="img-responsive img-rounded" src="Design/Geared_Torque.gif" alt="###">
            </div>
        </div>
        <!-- /.row -->

        <!-- Heading: Design -->
        <div class="row">
            <div class="col-sm-8">
                <h3>Fusion 360 Modeling</h3>
                <h4>The Gears:</h4>
                <p>As described above, gears will be the ideal way to adjust the focusing knob using the stepper motor. Therefore, in Fusion 360, I used the spurgear addon to easily create a few generic gears. For the ideal gear ratio, the stepper motor gears are much smaller than the focusing knob counterparts. I also added the D-shaped axle holes for the stepper motor and added thin planes across the face of the focusing knob gears (so they have a large surface area to be glued onto the knobs) which were measured to fit perfectly around the knobs.</p>
                <p>Download the Fusion 360 gear model here: <a href=Fusion/Telescope_Gears.f3d>Telescope Gears.f3d</a></p>
                <p>Download the mesh STL file here: <a href=Fusion/Telescope_Gears.stl>Telescope Gears.stl</a></p>
                <p>Download the Prusa 3D printable gcode file here: <a href=Fusion/Telescope_Gears_0.2mm_PLA_MK3S_3h16m.gcode>Telescope Gears.gcode</a></p>
                <img class="img-responsive img-rounded center" style="max-width: 300px;" src="Fusion/Gears.jpg" alt="###">
            </div>
            <div class="col-sm-4">
                <iframe src="https://college233.autodesk360.com/shares/public/SH56a43QTfd62c1cd9685f09a83eaea504a9?mode=embed" width="640" height="480" allowfullscreen="true" webkitallowfullscreen="true" mozallowfullscreen="true"  frameborder="0"></iframe>
            </div>
        </div>
        <!-- /.row -->

        <div class="row">
            <div class="col-sm-8">
                <h4>The Clamp:</h4>
                <p>To create the clamp I decided to design two half cylinders that could be tightened with bolts to fit tightly around the telescope body. To do so I measured the diameter of the telescope and created a sketch with a circle just barely larger (in order to accont for slight error in the size of the telescope tube). To ensure it was guarunteed to fit tightly and securly, I removed a small portion of at the top and bottom where the bolts would attach. With slight give in the plastic material, this would surely pull the thin cylinder to fit nicely. Now, I just need to add a flat face to secure the stepper motor. I will drill holes on this flat area after it is printed to ensure the stepper motor is placed in the ideal place to allign the gears. Here I also added a flat "roof-like" feature for the metro board to have a place to easily attach to.</p>
                <p>Download the Fusion 360 gear model here: <a href=Fusion/Telescope_Clamp.f3d>Telescope Clamp.f3d</a></p>
                <p>Download the mesh STL file here: <a href=Fusion/Telescope_Clamp.stl>Telescope Clamp.stl</a></p>
                <p>Download the Prusa 3D printable gcode file here: <a href=Fusion/Telescope_Clamp_0.2mm_PLA_MK3S_11h24m.gcode>Telescope Clamp.gcode</a></p>
                <div class="col-sm-6">
                    <img class="img-responsive img-rounded" src="Fusion/Sketch.jpg" alt="###">
                </div>
                <div class="col-sm-6">
                    <img class="img-responsive img-rounded" src="Fusion/Holes.jpg" alt="###">
                </div>
            </div>
            <div class="col-sm-4">
                <iframe src="https://college233.autodesk360.com/shares/public/SH56a43QTfd62c1cd968c88fd06186b2d1e1?mode=embed" width="640" height="480" allowfullscreen="true" webkitallowfullscreen="true" mozallowfullscreen="true"  frameborder="0"></iframe>
            </div>
        </div>
        <!-- /.row -->

        <div class="row">
            <div class="col-sm-8">
                <h4>The ESP32-CAM Holder:</h4>
                <p>Finally, I needed to create the device that would hold the ESP32-CAM in place over the viewfinder lens. This had to be some sort of detachable feature that would hold the camera lens directly over the viewfinder lens. This design has a slot shaped perfectly for the ESP32-CAM to fit in back with just the camera lens able to fit through. This is centered within a circular piece that will fit over the viewfinder lens. It has notches to fit around the geometry already present on the telescope lens. To attach, bolts can be threaded through the holes in the side of the circular piece and tightened onto the viewfinder lens. These should also allow for microadjustments to ideally position the ESP32-CAM over the viewfinder. This part also had to be measured with very low tolerance. Some of the viewfinder lenses have only an extremely small area in which the bolts can possibly be fixed. This means that the bolt holes had to be placed in the perfect position to be able to grab onto the lens without slipping off.</p>
                <p>Download the Fusion 360 gear model here: <a href=Fusion/ESP32_CAM_Holder.f3d>ESP32-CAM Holder.f3d</a></p>
                <p>Download the mesh STL file here: <a href=Fusion/ESP32-CAM_Holder.stl>ESP32-CAM Holder.stl</a></p>
                <p>Download the Prusa 3D printable gcode file here: <a href=Fusion/ESP32-CAM_Holder_0.2mm_PLA_MK3S_1h49m.gcode>ESP32-CAM Holder.gcode</a></p>
                <div class="col-sm-6">
                    <img class="img-responsive img-rounded" src="Fusion/Sketch_ESP32.jpg" alt="###">
                </div>
                <div class="col-sm-6">
                    <img class="img-responsive img-rounded" src="Fusion/ESP32_CAM2.jpg" alt="###">
                </div>
            </div>
            <div class="col-sm-4">
                <iframe src="https://college233.autodesk360.com/shares/public/SH56a43QTfd62c1cd9686c1b725a0dea32d5?mode=embed" width="640" height="480" allowfullscreen="true" webkitallowfullscreen="true" mozallowfullscreen="true"  frameborder="0"></iframe>
            </div>
        </div>
        <!-- /.row -->

        <!-- Heading: 3D Print -->
        <div class="row">
            <div class="col-lg-12">
                <h1 class="page-header">3D Printing (July 20<sup>th</sup>, 2021):</h1>
            </div>
        </div>
        <!-- /.row -->

        <!-- Heading: 3D Print -->
        <div class="row">
            <div class="col-sm-12">
                <p>In order to 3D print my parts, I saved the fusion files as .stl mesh files and uploaded them to Prusa. From here I was able to slice each part individually using 0.2mm quality generic PLA filament. The individual .stl and .gcode files can be downloaded above. The gears and the ESP32-CAM Holder each had reasonable print times, however the telescope clamp was a very large print. It would take nearly 11.5 hours to print the telescope clamp. Therefore, to simplify the printed process, I combined all 3 parts into one print file. This was, the 3D printer could be run overnight once and produce all 3 pieces. Thanks to Nathan, Victoria and the Harvard 3D printers for helping make my parts a reality.</p>
                <p>Download the Prusa 3D printable gcode for all the parts combined here: <a href=3D_Print/Final_Proj_Print.gcode>3 Parts.gcode</a></p>
            </div>
        </div>
        <!-- /.row -->

        <!-- Heading: 3D Print  -->
        <div class="row">
            <div class="col-sm-4">
                <img class="img-responsive img-rounded" src="3D_Print/STL_Mesh.jpg" alt="###">
            </div>
            <div class="col-sm-4">
                <img class="img-responsive img-rounded" src="3D_Print/Prusa_Print.jpg" alt="###">
            </div>
            <div class="col-sm-4">
                <img class="img-responsive img-rounded" src="3D_Print/Print_Time.jpg" alt="###">
            </div>
        </div>
        <!-- /.row -->

        <!-- Heading: ESP32-CAM -->
        <div class="row">
            <div class="col-lg-12">
                <h1 class="page-header">The ESP32-CAM Testing (July 20<sup>th</sup>, 2021):</h1>
            </div>
        </div>
        <!-- /.row -->

        <!-- Heading: ESP32-CAM -->
        <div class="row">
            <div class="col-sm-6">
                <p>Now it was time to experiment with the ESP32-CAM to make sure it would work well with my telescope. I followed the steps to upload the correct code on the <a href=https://randomnerdtutorials.com/esp32-cam-video-streaming-face-recognition-arduino-ide/> AI Thinker ESP32-CAM</a>. I had to wire it to the USB attached FTDI programmer and when uploading code, I had to connect the GPIO 0 pin to the ground pin as well. Then, removing the GPIO-0 to ground connection and opening the 115200 baud serial monitor, hitting the reset button on the ESP32-CAM produced the website link where I could access the video stream. Testing the ESP-32 CAM with an unfocused telescope produced an image almost identical to what I would see looking through the eye piece with my own eye. With this promising result, I had to wait for the next clear night to test how well it would work when focused on the moon.</p>
            </div>
            <div class="col-sm-3">
                <img class="img-responsive img-rounded" src="ESP32/ESP32_CAM_Sync.jpg" alt="###">
            </div>
            <div class="col-sm-3">
                <img class="img-responsive img-rounded" src="ESP32/ESP32_CAM_Test.jpg" alt="###">
            </div>
        </div>
        <!-- /.row -->

        <!-- Heading: ESP32-CAM -->
        <div class="row">
            <div class="col-lg-12">
                <h1 class="page-header">The ESP32-CAM (July 27<sup>th</sup>, 2021):</h1>
            </div>
        </div>
        <!-- /.row -->

        <!-- Heading: ESP32-CAM -->
        <div class="row" style="margin-bottom: 30px;">
            <div class="col-sm-8">
                <p>The first step for attaching my ESP32-CAM to the telescope was to make sure I could connect to my CAM while it was not attached directly to my computer. I completely this testing over the class 9 assignment, and a more detailed documentation of this process can be found there. However, to put it simply, I powered the metro with a battery pack and connected the ESP32-CAM to ground, power, TX and RX pins. This gave me an image the would read on my computer while my CAM was within the range of the WiFi.</p>
                <p>Next, I inserted my camera into the newly 3D printed CAM-Holder piece and attached it to the telescope viewfinder. This worked extrmely well, and I was immediately able to see blurry leaves and trees on my computer, taken directly from the ESP32-CAM. As I moved the telescope around and watched the image on the computer, I remembered that the telescope inverts the image as seen naturally. In other words, when the telescope moves up, the image looks like it is panning downwards. Similarly if moved left, the image appears to move right. This backwards thinking is often hard to grasp and remember when following, or locating something in the sky. Therefore, it is very beneficial that the ESP32-CAM interface allows you to flip invert the camera's output. Finally, at night, I was able to focus the ESP32-CAM equipped telescope on the moon! Unfortunately, it was very hazy and the moon was behind some trees when I was trying to fous it. Also, the WiFi, did not reliablly reach my back yard where I was trying to get my image of the moon. Therefore, the first lunar photo was little more than a small blurry fraction of the moon. It can only go up from here.</p>
            </div>
            <div class="col-sm-4">
                <img class="img-responsive img-rounded" src="Cam_Holder/Camera.jpg" alt="###">
            </div>
        </div>
        <!-- /.row -->

        <!-- Heading: Lens  -->
        <div class="row" style="margin-bottom: 30px;">
            <div class="col-sm-4">
                <img class="img-responsive img-rounded" src="Cam_Holder/Piece1.jpg" alt="###">
                <figcaption>Inserted bolts into the holes in order to clamp onto the telescope lens.</figcaption>
            </div>
            <div class="col-sm-4">
                <img class="img-responsive img-rounded" src="Cam_Holder/Piece2.jpg" alt="###">
                <figcaption>Tightened bolts hold the lens nicely.</figcaption>
            </div>
            <div class="col-sm-4">
                <img class="img-responsive img-rounded" src="Cam_Holder/Piece3.jpg" alt="###">
                <figcaption>The telescope lens is centered over the hole for the ESP32-CAM lens.</figcaption>
            </div>
        </div>
        <!-- /.row -->

        <!-- Heading: Moon  -->
        <div class="row">
            <div class="col-sm-4">
                <img class="img-responsive img-rounded" src="Cam_Holder/Telescope_CAM.jpg" alt="###">
                <figcaption>With the ESP32-CAM inserted into the CAM-Holder, the entire device can be placed on the telescope.</figcaption>
            </div>
            <div class="col-sm-4">
                <img class="img-responsive img-rounded" src="Cam_Holder/Flip_Image.jpg" alt="###">
                <figcaption>Because the telescope inverts its image, we can turn on H-Mirror and V-Flip to restore the image to its actual orientation.</figcaption>
            </div>
            <div class="col-sm-4">
                <img class="img-responsive img-rounded" src="Cam_Holder/Moon_Shadow.jpg" alt="###">
                <figcaption>The first images of the moon as seen through my ESP32-CAM (a truly historic moment).</figcaption>
            </div>
        </div>
        <!-- /.row -->

        <!-- Heading: Stepper Motor -->
        <div class="row">
            <div class="col-lg-12">
                <h1 class="page-header">Stepper Motor Control (August 1<sup>st</sup>, 2021):</h1>
            </div>
        </div>
        <!-- /.row -->

        <!-- Heading: Stepper Motor -->
        <div class="row" style="margin-bottom: 30px;">
            <div class="col-md-12">
                <h3>Wiring the Stepper</h3>
                <p>To wire the stepper to the Huzzah, I followed the wiring schematic found on the class website (which is also copied below). The DRV8834 stepper driver and the ESP32 Huzzah are powered with 9V. The Huzzah is also connected to the computer through the USB port. Finally, the Huzzah, stepper and a capacitor are all connected to the driver. I had to limit the current through the stepper, as it was getting extrememly hot very quickly. You can see <a href="../10_Machine/index.html">Assignment 10</a> for a more detailed descriptipon of how this was done. Ultimately, the Huzzah was able to easily control the stepper motor with the following setiup.</p>
            </div>
        </div>
        <!-- /.row -->

        <!-- Heading:  -->
        <div class="row" style="margin-bottom: 30px;">
            <div class="col-md-6">
                <img class="img-responsive img-rounded" src="Stepper/Stepper.jpg" alt="#">
            </div>
            <div class="col-md-6">
                <img class="img-responsive img-rounded" src="Stepper/Stepper_Wiring.jpg" alt="#">
            </div>
        </div>
        <!-- /.row -->

        <!-- Heading: Stepper Motor -->
        <div class="row" style="margin-bottom: 30px;">
            <div class="col-sm-7">
                <h3>Assembling the Stepper</h3>
                <p>The 3D printed clamp used to attach the stepper to the telescope fit perfectly around the body of the telescope. It fit tightly around the telescope once tightened with bolts at the top and bottom on the clamp pieces. In oder to attach the stepper to the clamp, I needed to drill 4 holes in the base of the clamp and screw the metal stepper holder directly onto the clamp. Once it was screwed on, I could attach the stepper parallel to the telescope and then add the stepper gear piece. With the wiring on top of the clamp, and the gears interlocking, it was ready to start to try and focus the telescope remotely.</p>
            </div>
            <div class="col-sm-5">
                <img class="img-responsive img-rounded" src="Stepper/Stepper_Mechanism.jpg" alt="###">
            </div>
        </div>
        <!-- /.row -->

        <!-- Heading: Stepper Motor  -->
        <div class="row" style="margin-bottom: 30px;">
            <div class="col-sm-4">
                <img class="img-responsive img-rounded" src="Stepper/Clamp_Screws.jpg" alt="###">
                <figcaption>Bolts used to tighten the clamp around the telescope.</figcaption>
            </div>
            <div class="col-sm-4">
                <img class="img-responsive img-rounded" src="Stepper/Clamp_Drill.jpg" alt="###">
                <figcaption>Drilled holes in the 3D printed clamp piece.</figcaption>
            </div>
            <div class="col-sm-4">
                <img class="img-responsive img-rounded" src="Stepper/Clamp_Screwed.jpg" alt="###">
                <figcaption>Stepper motor holster attached to clamp with screws.</figcaption>
            </div>
        </div>
        <!-- /.row -->

        <!-- Heading: Stepper Motor -->
        <div class="row" style="margin-bottom: 30px;">
            <div class="col-sm-6">
                <h3> Arduino IoT Control</h3>
                <p>I tried a few different processes for the stepper motor control of the focusing knobs. I tried physical ciruit control, simple arduino code and google firebase control. See <a href="../09_Networking/index.html">Assignment 9</a> and <a href="../10_Machine/index.html">Assignment 10</a> for some of these other trials. Finally, I settled on Arduino IoT to control the focusing mechanism on my telescope</p>
                <p>Arduino IoT is actually very straight forward to unerstand and use. After logging into Arduino Cloud online, and navigating to Arduino IoT, you are brought to a page where you can start a new project. In different windows, you can easily create variables, and link them to buttons, switches or other widgets. The Arduino program then creates a skeleton code for you. All I needed to do was add the control code for the stepper motor and define what certain widgets would do. In the end, I had a code that produced 4 buttons and a slider on the Arduino IoT interface. Two buttons allowed for coarse focusing in and out. The other two buttons were defined for fine focusing. I also added a slider widget to help control how fine the focusing was. Therefore, each press of the fine focusing button could correspond with any turn angle up to about a quarter turn. This would allow for extremely fine focusing that would be impossible with human hands.</p>
            </div>
            <div class="col-sm-6">
                <iframe src=https://create.arduino.cc/editor/maxtopher/3e0b099a-f01e-434d-b659-60e78857f5d6/preview?embed style="height:510px;width:100%;margin:10px 0" frameborder=0></iframe>
            </div>
        </div>
        <!-- /.row -->

        <!-- Heading: Stepper Motor  -->
        <div class="row" style="margin-bottom: 30px;">
            <div class="col-sm-4">
                <img class="img-responsive img-rounded" src="Stepper/Arduino_IoT2.jpg" alt="###">
                <figcaption>Inputs for Arduino IoT allow for computer-generated code to link variables, network and ESP32 device.</figcaption>
            </div>
            <div class="col-sm-4">
                <img class="img-responsive img-rounded" src="Stepper/Arduino_IoT3.jpg" alt="###">
                <figcaption>Creating buttons to be linked to variables.</figcaption>
            </div>
            <div class="col-sm-4">
                <img class="img-responsive img-rounded" src="Stepper/Arduino_IoT4.jpg" alt="###">
                <figcaption>The control center for my telescope stepper project.</figcaption>
            </div>
        </div>
        <!-- /.row -->

        <!-- Heading: Stepper Motor -->
        <div class="row">
            <div class="col-lg-12">
                <h1 class="page-header">Stepper Motor and Camera Combined (August 3<sup>rd</sup>, 2021):</h1>
            </div>
        </div>
        <!-- /.row -->

        <!-- Heading: Stepper Motor -->
        <div class="row" style="margin-bottom: 30px;">
            <div class="col-sm-8">
                <h3></h3>
                <p>Finally, I transitioned the ESP32-CAM wiring from the metro board to the Huzzah that was already wired to the stepper. After programming the code onto the ESP32-CAM, I simply had to connect the power, ground, RX, and TX pins of the camera to their corresponding pins on the Huzzah. This was sufficient to transmit the video to the computer.</p>
                <p>In the end, I decided to use two open windows in split screen to control my focusing and real time video feed. I attempted to find the html code for the video stream demo arduino code, however, it was not an easy interface to control. The html code was buried and hidden even in the inspect sources view of the page. Eventually, with the help of Nathan, I found a <a href="https://github.com/fustyles/Arduino/blob/master/ESP32-CAM_FaceRecognition_SD_EnrollFace_PAGE/ESP32-CAM_FaceRecognition_SD_EnrollFace_PAGE.ino">webpage</a> that had some of the html source code for the demo. However, it was configured for face recognition and despite spending a lot of time trying to modify the arduino code, I was not able to seemlessly connect the focusing buttons, video stream and the correct button features (like H-Mirror and V-Flip). Therefore, my final project will require two open windows in split screen for optimal control.</p>
            </div>
            <div class="col-sm-4">
                <img class="img-responsive img-rounded" src="Stepper/final_wiring.jpg" alt="###">
                <figcaption>The final wiring of the stepper and ESP32-CAM.</figcaption>
            </div>
        </div>
        <!-- /.row -->

    </div>
    <!-- /.container -->
    
    <footer>
        <div class="footer-blurb">
            <div class="container">
                <div class="row">
                    <div class="col-xs-12 footer-blurb-item">
                        <h3><span class="glyphicon glyphicon-fire"></span>About Max Christopher</h3>
                        <p>To find out more about Max Christopher, go to the "About Me" page!</p>
                        <p><a class="btn btn-default" href="../About_Me/index.html">About Me</a></p>
                    </div>
                </div>
                <!-- /.row -->  
            </div>
        </div>
        
        <div class="small-print">
            <div class="container">
                <p><a href="../Contact/index.html">Contact</a></p>
                <p>Copyright &copy; 2021 Maxwell Christopher </p>
            </div>
        </div>
    </footer>

	
    <!-- jQuery -->
    <script src="../js/jquery-1.11.3.min.js"></script>

    <!-- Bootstrap Core JavaScript -->
    <script src="../js/bootstrap.min.js"></script>
	
	<!-- IE10 viewport bug workaround -->
	<script src="../js/ie10-viewport-bug-workaround.js"></script>
	
	<!-- Placeholder Images -->
	<script src="../js/holder.min.js"></script>
	
</body>

</html>
