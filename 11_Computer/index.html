<!DOCTYPE html>
<!-- Template by Quackit.com -->
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <!-- The above 3 meta tags *must* come first in the head; any other head content must come *after* these tags -->

    <title>Max's Physics S-12</title>

    <!-- Bootstrap Core CSS -->
    <link href="../css/bootstrap.min.css" rel="stylesheet">

    <!-- Custom CSS: You can use this stylesheet to override any Bootstrap styles and/or apply your own styles -->
    <link href="../css/custom.css" rel="stylesheet">

    <!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!--[if lt IE 9]>
        <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
        <script src="https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
    <![endif]-->

</head>

<body>

    <!-- Navigation -->
    <nav class="navbar navbar-inverse navbar-fixed-top" role="navigation">
        <div class="container">
            <!-- Logo and responsive toggle -->
            <div class="navbar-header">
                <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#navbar">
                    <span class="sr-only">Toggle navigation</span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                </button>
                <a class="navbar-brand" href="../index.html">
                    <span class="glyphicon glyphicon-screenshot"></span> 
                    Maxtopher
                </a>
            </div>
            <!-- Navbar links -->
            <div class="collapse navbar-collapse" id="navbar">
                <ul class="nav navbar-nav">
                    <li>
                        <a href="../index.html">Home</a>
                    </li>
                    <li>
                        <a href="../About_Me/index.html">About Me</a>
                    </li>
                    <li>
                        <a href="../Final_Project/index.html">Final Project</a>
                    </li>
                    <li class="active dropdown">
                        <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="false">Weekly Assignments <span class="caret"></span></a>
                        <ul class="dropdown-menu" aria-labelledby="about-us">
                            <li><a href="../01_Intro/index.html">Assignment 1: Introduction & Documentation</a></li>
                            <li><a href="../02_2D_Design/index.html">Assignment 2: 2D Design & Cutting</a></li>
                            <li><a href="../03_Tools/index.html">Assignment 3: Electronics & Tools</a></li>
                            <li><a href="../04_Prototyping/index.html">Assignment 4: Rapid Prototyping</a></li>
                            <li><a href="../05_Programmable_Electronics/index.html">Assignment 5: Programmable Electronics</a></li>
                            <li><a href="../06_3D_Design/index.html">Assignment 6: 3D Design & Printing</a></li>
                            <li><a href="../07_Electronic_Input/index.html">Assignment 7: Electronic Input Devices</a></li>
                            <li><a href="../08_Electronic_Output/index.html">Assignment 8: Electronic Output Devices</a></li>
                            <li><a href="../09_Networking/index.html">Assignment 9: Networking / IoT</a></li>
                            <li><a href="../10_Machine/index.html">Assignment 10: Machine Building</a></li>
                            <li><a href="index.html">Assignment 11: Computer Programming</a></li>
                            <li><a href="../12_Wildcard/index.html">Assignment 12: Wildcard / Project Prep</a></li>
                        </ul>
                    </li>
                </ul>
            </div>
            <!-- /.navbar-collapse -->
        </div>
        <!-- /.container -->
    </nav>

    <div class="jumbotron feature">
        <div class="container">
            <h1><span class="glyphicon glyphicon-equalizer"></span>Assignment 11: Computer Programming</h1>
            <p>Send data to a computer and display results with code you've written and find a pattern to caste.</p>
        </div>
    </div>

    <!-- Content -->
    <div class="container">     

        <!-- Heading:  -->
        <div class="row" style="margin-bottom: 30px;">
            <div class="col-md-7">
                <h1 class="page-header">Drawing With Potentiometers</h1>
                <p>I completed the taking to your browser over USB tutorial that we began in class. I made a very simple circuit connecting the potentiometer to analog pins A0, A2, and A4. I created a new index.html file for the drawing application and then I created the sketch.js and script.js files by copying the code from the tutorial. Unfortunately, I had trouble from here. I was able to get the website to open and even connect my Metro board using the connect button, however, I had no interactive image to show the drawing. It turns out you cannot just copy the index.html file from the tutorial on the website. This is given an html class called "no-js". After inspecting the source of the demo website, I realized that by removing this class, the interactive image would be revealed. Now by moving the potentiometer, the line will travel in the z-direction on the axis. The mouse controls x and y directions.</p>
                <p>To try for yourself, connect your metroboard on the link below. </p>
                <p><a class="btn btn-default" href="Draw/index.html">Draw</a></p>
            </div>
            <div class="col-sm-5">
                <img class="img-responsive img-rounded" src="Draw1.jpg" alt="#">
            </div>
        </div>
        <!-- /.row -->

        <!-- Heading:  -->
        <div class="row" style="margin-bottom: 30px;">
            <div class="col-md-7">
                <h1 class="page-header">Saving Photos from the ESP32-CAM</h1>
                <p>Becasue my final project involves using my ESP32-CAM to watch a live stream video of the night sky, I thought it would be cool to also have the option to take a photo of what I was seeing, and save it to my device. I first attempted the saving photos to firebase example from the website, but ran into trouble with my code not even being able to upload. I was getting a "base 64" error, and it appeared maybe I did not have the correct libraries downloaded. Not wanted to waste too much time on this on the short class cycle, I attempted this through another method. I found a randomnerd tutorial for <a href="https://randomnerdtutorials.com/esp32-cam-take-photo-display-web-server/">A Single Photo ESP32-CAM</a>. This tutorial walked me through creating a local server website that would take individual photos with the ESP32-CAM, rather than one continuous livestream. In fact, with a few downloads, this was fairly simple. Also, using html code directly in arduino, it was easy to customize what my local server website looked like. I may even spend more time making this look nicer in the future. With the tutorial, I made three buttons that are displayed on the local server website. One button, called "Capture Photo" takes a picture with the ESP32-CAM that can be displayed on the site. Hitting "Refresh" will load the most recent photo taken and display it on the site. Finally, using the "Rotate" button, you can change the orientation of the most recent photo taken. By right clicking on the image, it can be saved to your device. However, I wanted to be able to see the live stream and take a photo in one single interface. It is important for my project that the livestream is available in order to be able to easily focus the telescope. This turned out to be a little more challenging than I expected. I had assumed that I could simply combine my two separate codes to result in one local host that would show both the livestream and the most recent picture taken at the same time. However, this did not seem possible. I am going to look a little more into editing the "get image" button from the livestream arduino code. This also takes a picture, but it interupts the livestream to do so. Therefore, I am going to see if I can create a side-by-sideversion in the near future.</p>
                <p>Here is the code for the ESP32-CAM Single Photo Capture: <a href="ESP32-CAM_Web_Camera/ESP32-CAM_Web_Camera.ino">ESP32-CAM_Web_Camera</a>.</p>
            </div>
            <div class="col-sm-5">
                <img class="img-responsive img-rounded" src="ESP32-CAM_Pic.jpg" alt="#">
                <img class="img-responsive img-rounded" src="ESP32-CAM_Pic2.jpg" alt="#">
                <img class="img-responsive img-rounded" src="ESP32-CAM_Pic3.jpg" alt="#">
            </div>
        </div>
        <!-- /.row -->

        <!-- Heading:  -->
        <div class="row" style="margin-bottom: 30px;">
            <div class="col-md-4">
                <h1 class="page-header">Final Project Update</h1>
                <p>For most of my time in this class cycle, I tried adjusting the code for my final project stepper motor control. I was able to make progress by abandoning the AccelStepper library and focusing primarily on just the Stepper library code. Using this with firebase, I was able to get much smoother and consistant motion. However, I'm not sure firebase will be the best avenue for this process. Unforuntaly there is a very long, and seemingly random lag time for the stepper to connect and obey the firebase commands. I will potentially look into Arduino IoT for this process. It seems that Faraz had some success with this and his chop bot. It is possible this will be a better solution for my process.</p>
            </div>
            <div class="col-sm-8">
                <code><pre>

#include <WiFi.h>                                 // esp32 library
#include <FirebaseESP32.h>                        // firebase library
#include <AccelStepper.h>
#include <Stepper.h>

#define FIREBASE_HOST "https://telescope-stepper-default-rtdb.firebaseio.com/"            // the project name address from firebase id
#define FIREBASE_AUTH "###"  // the secret key generated from firebase
#define WIFI_SSID "###"                                // input your home or public wifi name
#define WIFI_PASSWORD "###"

const int stepPin = 13;
const int dirPin = 12;
const int pwmA = 3;
const int pwmB = 11;
Stepper stepper(200, stepPin, dirPin); // define stepper

//Define FirebaseESP32 data object
FirebaseData firebaseData;

String fireString = "";                                          // led status received from firebase

void setup() {
  Serial.begin(115200);
  delay(1000);
  pinMode(stepPin, OUTPUT);
  pinMode(dirPin, OUTPUT);
  WiFi.begin(WIFI_SSID, WIFI_PASSWORD);                          // try to connect with wifi

  Serial.print("Connecting to ");
  Serial.print(WIFI_SSID);
  while (WiFi.status() != WL_CONNECTED) {
    Serial.print(".");
    delay(500);
  }

  Serial.println();
  Serial.print("Connected to ");
  Serial.println(WIFI_SSID);
  Serial.print("IP Address is : ");
  Serial.println(WiFi.localIP());                                // print local IP address
  Firebase.begin(FIREBASE_HOST, FIREBASE_AUTH);                  // connect to firebase
  Firebase.reconnectWiFi(true);
  Firebase.set(firebaseData, "/Stepper_Motor", "OFF");              // set initial string of "OFF"

  pinMode(pwmA, OUTPUT);
  pinMode(pwmB, OUTPUT);

  digitalWrite(pwmA, HIGH);
  digitalWrite(pwmB, HIGH);

  stepper.setSpeed(200);
}

void loop() {

  Firebase.get(firebaseData, "/Stepper_Motor");                     // get led status input from firebase
  fireString = firebaseData.stringData();                         // change to e.g. intData() or boolData()
  Serial.println(fireString);
  if (fireString == "OUT")         ///Positive number = Focus Out
  {
    stepper.step(895);
  }
  else if (fireString == "IN")         ///Positive number = Focus Out
  {
    stepper.step(-895);
  }
  
}
</pre></code>
            </div>
        </div>
        <!-- /.row -->

         <!-- Heading:  -->
        <div class="row" style="margin-bottom: 30px;">
            <div class="col-md-8">
                <h1 class="page-header">Casting Plan</h1>
                <p>For my casting, I found two scallop shells on the beach and glued them together with hot glue to create a solid figure. This shell has an interesting pattern and should look cool after it is cast.</p>
            </div>
            <div class="col-md-4">
                <img class="img-responsive img-rounded" src="scallop.jpg" alt="#">
            </div>
        </div>

    </div>
    <!-- /.container -->
    
    <footer>
        <div class="footer-blurb">
            <div class="container">
                <div class="row">
                    <div class="col-xs-12 footer-blurb-item">
                        <h3><span class="glyphicon glyphicon-fire"></span> Final Project</h3>
                        <p>You point the telescope into the sky, virtually focus it and broadcast it's image online! No longer do we have to look directly through the telescope to view the wonders of the night sky and we can share all our discoveries in real time with people all around the world. Click below to find out how it was made!</p>
                        <p><a class="btn btn-default" href="../Final_Project/index.html">Final Project</a></p>
                    </div>
                </div>  
            </div>
        </div>
        
        <div class="small-print">
            <div class="container">
                <p><a href="../Contact/index.html">Contact</a></p>
                <p>Copyright &copy; 2021 Maxwell Christopher </p>
            </div>
        </div>
    </footer>

	
    <!-- jQuery -->
    <script src="../js/jquery-1.11.3.min.js"></script>

    <!-- Bootstrap Core JavaScript -->
    <script src="../js/bootstrap.min.js"></script>
	
	<!-- IE10 viewport bug workaround -->
	<script src="../js/ie10-viewport-bug-workaround.js"></script>
	
	<!-- Placeholder Images -->
	<script src="../js/holder.min.js"></script>
	
</body>

</html>
